/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{m as t,e as s,f as i,j as c,n as r,k as a}from"./chunk-0ccbf0d2.js";class l{render(){return e("div",{class:"sk-circle"},e("div",{class:"sk-circle1 sk-child"}),e("div",{class:"sk-circle2 sk-child"}),e("div",{class:"sk-circle3 sk-child"}),e("div",{class:"sk-circle4 sk-child"}),e("div",{class:"sk-circle5 sk-child"}),e("div",{class:"sk-circle6 sk-child"}),e("div",{class:"sk-circle7 sk-child"}),e("div",{class:"sk-circle8 sk-child"}),e("div",{class:"sk-circle9 sk-child"}),e("div",{class:"sk-circle10 sk-child"}),e("div",{class:"sk-circle11 sk-child"}),e("div",{class:"sk-circle12 sk-child"}))}static get is(){return"ref-spinner"}static get style(){return"refuge-spinner{-ms-flex-item-align:center;align-self:center}.small{height:24px;width:24px}.sk-circle{margin:0 auto;width:24px;height:24px;position:relative}.sk-circle .sk-child{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle .sk-child:before{content:\"\";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-circleBounceDelay;animation:1.2s ease-in-out infinite both sk-circleBounceDelay}.sk-circle .sk-circle2{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.sk-circle .sk-circle3{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.sk-circle .sk-circle4{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.sk-circle .sk-circle5{-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.sk-circle .sk-circle6{-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.sk-circle .sk-circle7{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.sk-circle .sk-circle8{-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.sk-circle .sk-circle9{-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.sk-circle .sk-circle10{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.sk-circle .sk-circle11{-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.sk-circle .sk-circle12{-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.sk-circle .sk-circle2:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-circle .sk-circle3:before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-circle .sk-circle4:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-circle .sk-circle5:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-circle .sk-circle6:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-circle .sk-circle7:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-circle .sk-circle8:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-circle .sk-circle9:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-circle .sk-circle10:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-circle .sk-circle11:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-circle .sk-circle12:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}\@-webkit-keyframes sk-circleBounceDelay{0%,100%,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}\@keyframes sk-circleBounceDelay{0%,100%,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}"}}class n{constructor(){this.searchBar=!0,this.predictions=[],this.clearPredictions=(()=>{this.setPredictions([])}),this.getPredictions=(t=>{let s=t.target.value;this.hasText=this.input.value.length>0,void 0!==s&&0!==s.length?this.autocomplete.getPlacePredictions({input:s},t=>{if(null===t||0===t.length)return void this.clearPredictions();let s=t.map(t=>e("refuge-prediction",{onClick:()=>{this.searchByPrediction(t)}},t.description));this.setPredictions(s)}):this.clearPredictions()}),this.searchByPrediction=(e=>{this.input.value=e.structured_formatting.main_text,this.handleSearch(e),this.clearPredictions()}),this.searchByLocation=(()=>{this.input.value="My Location",this.handleSearch(),this.clearPredictions()}),this.handleRightClick=(()=>{this.markers.length>0?(this.input.value=null,this.resetAll()):this.input.value.length>0?(this.input.value=null,this.resetAll()):this.searchByLocation()})}componentWillLoad(){}componentDidLoad(){this.store.mapDispatchToProps(this,{setPredictions:t,setResults:s,setMarkers:i,setLoading:c,resetAll:r}),this.store.mapStateToProps(this,e=>{const{app:{service:t,map:s,predictions:i,markers:c,loading:r}}=e;return{service:t,map:s,predictions:i,markers:c,loading:r}})}render(){let t,s,i,c;return i=this.loading?e("ref-spinner",{class:"header-icon left-icon small"}):e("img",{class:"header-icon left-icon",src:"assets/icons/search.svg"}),s=this.input&&this.input.value.length>0||this.loading?"close":"my_location",c=a({"header-icon":!0,"right-icon":!0,"material-icons":!0,location:"my_location"==s}),t=a({"search-container":!0,"bottom-border":0===this.predictions.length}),e("div",{class:t},e("input",{id:"search-input",class:"search-input",placeholder:"Search...",ref:e=>{this.input=e},onInput:this.getPredictions,onFocus:e=>{this.input.select(),this.getPredictions(e)}}),e("div",{class:"header-icon left-icon"},i),e("span",{class:c,onClick:this.handleRightClick},s))}static get is(){return"refuge-header"}static get properties(){return{autocomplete:{type:"Any",attr:"autocomplete"},handleSearch:{type:"Any",attr:"handle-search"},loading:{state:!0},markers:{state:!0},predictions:{state:!0},searchBar:{type:Boolean,attr:"search-bar"},store:{context:"store"}}}static get style(){return"refuge-header{grid-row:1;color:var(--black);background-color:var(--blue-med)}.search-container{display:grid;grid-template-rows:8px auto 8px;grid-template-columns:8px 40px auto 40px 8px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.bottom-border{-webkit-box-shadow:inset 0 -1px 0 0 var(--blue-dark);box-shadow:inset 0 -1px 0 0 var(--blue-dark)}.search-input{grid-row:2;grid-column:2/5;height:44px;border:1px solid var(--blue-med);outline:0;border-radius:2px;padding:0 40px;-webkit-transition:padding .5s;transition:padding .5s;font:var(--text-body)}.search-input:focus{border:1px solid var(--blue-dark)}.header-icon{grid-row:2;color:var(--black)}.left-icon{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;grid-column:2;text-align:center;-ms-flex-line-pack:center;align-content:center}.right-icon{grid-column:4}.location{color:var(--blue-med)}\@keyframes rotating{from{transform:rotate(0);-webkit-transform:rotate(0)}to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}\@-webkit-keyframes rotating{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}.loading{animation:2s linear infinite rotating;-webkit-animation:2s linear infinite rotating}"}}class o{render(){return e("li",{class:"prediction-container"},e("ref-icon",{classes:"icon marker",icon:"marker-default"}),e("span",{class:"prediction-content"},e("slot",null)))}static get is(){return"refuge-prediction"}static get properties(){return{item:{type:"Any",attr:"item"}}}static get style(){return"refuge-prediction{height:88px}.prediction-container{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;-ms-flex-line-pack:center;align-content:center;padding:32px 24px 32px 16px}.prediction-container::after{content:\"\";position:absolute;width:auto;height:1px;left:48px;right:24px;background:var(--light-grey);bottom:0}.prediction-content{padding-left:16px;height:100%}"}}export{l as RefSpinner,n as RefugeHeader,o as RefugePrediction};