/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{m as s,e as t,f as i,j as c,n as r,l as a}from"./chunk-0ccbf0d2.js";class l{constructor(){this.searchBar=!0,this.predictions=[],this.clearPredictions=(()=>{this.setPredictions([])}),this.getPredictions=(s=>{let t=s.target.value;this.hasText=this.input.value.length>0,void 0!==t&&0!==t.length?this.autocomplete.getPlacePredictions({input:t},s=>{if(null===s||0===s.length)return void this.clearPredictions();let t=s.map(s=>e("refuge-prediction",{onClick:()=>{this.searchByPrediction(s)}},s.description));this.setPredictions(t)}):this.clearPredictions()}),this.searchByPrediction=(e=>{this.input.value=e.structured_formatting.main_text,this.handleSearch(e),this.clearPredictions()}),this.searchByLocation=(()=>{this.input.value="My Location",this.handleSearch(),this.clearPredictions()}),this.handleRightClick=(()=>{this.markers.length>0?(this.input.value=null,this.resetAll()):this.input.value.length>0?(this.input.value=null,this.resetAll()):this.searchByLocation()})}componentWillLoad(){}componentDidLoad(){this.store.mapDispatchToProps(this,{setPredictions:s,setResults:t,setMarkers:i,setLoading:c,resetAll:r}),this.store.mapStateToProps(this,e=>{const{app:{service:s,map:t,predictions:i,markers:c,loading:r}}=e;return{service:s,map:t,predictions:i,markers:c,loading:r}}),this.autocomplete=new google.maps.places.AutocompleteService}render(){let s,t,i,c;return i=this.loading?e("refuge-spinner",{class:"header-icon left-icon small"}):e("img",{class:"header-icon left-icon",src:"assets/icons/search.svg"}),t=this.input&&this.input.value.length>0||this.loading?"close":"my_location",c=a({"header-icon":!0,"right-icon":!0,"material-icons":!0,location:"my_location"==t}),s=a({"search-container":!0,"bottom-border":0===this.predictions.length}),e("div",{class:s},e("input",{id:"search-input",class:"search-input",placeholder:"Search...",ref:e=>{this.input=e},onInput:this.getPredictions,onFocus:e=>{this.input.select(),this.getPredictions(e)}}),e("div",{class:"header-icon left-icon"},i),e("span",{class:c,onClick:this.handleRightClick},t))}static get is(){return"refuge-header"}static get properties(){return{handleSearch:{type:"Any",attr:"handle-search"},loading:{state:!0},markers:{state:!0},predictions:{state:!0},searchBar:{type:Boolean,attr:"search-bar"},store:{context:"store"}}}static get style(){return"/**style-placeholder:refuge-header:**/"}}class n{render(){return e("li",{class:"prediction-container"},e("img",{class:"icon marker",src:"assets/icons/marker-default.svg"}),e("span",{class:"prediction-content"},e("slot",null)))}static get is(){return"refuge-prediction"}static get properties(){return{item:{type:"Any",attr:"item"}}}static get style(){return"/**style-placeholder:refuge-prediction:**/"}}class o{render(){return e("div",{class:"sk-circle"},e("div",{class:"sk-circle1 sk-child"}),e("div",{class:"sk-circle2 sk-child"}),e("div",{class:"sk-circle3 sk-child"}),e("div",{class:"sk-circle4 sk-child"}),e("div",{class:"sk-circle5 sk-child"}),e("div",{class:"sk-circle6 sk-child"}),e("div",{class:"sk-circle7 sk-child"}),e("div",{class:"sk-circle8 sk-child"}),e("div",{class:"sk-circle9 sk-child"}),e("div",{class:"sk-circle10 sk-child"}),e("div",{class:"sk-circle11 sk-child"}),e("div",{class:"sk-circle12 sk-child"}))}static get is(){return"refuge-spinner"}static get style(){return"/**style-placeholder:refuge-spinner:**/"}}export{l as RefugeHeader,n as RefugePrediction,o as RefugeSpinner};