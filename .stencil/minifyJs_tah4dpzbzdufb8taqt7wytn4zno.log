/*! Built with http://stenciljs.com */
App.loadBundle("/**:bundle-id:**/",["exports","./chunk-2718cc47.js"],function(e,t){var i=window.App.h,n=function(){function e(){}return e.prototype.render=function(){return i("div",{class:"sk-circle"},i("div",{class:"sk-circle1 sk-child"}),i("div",{class:"sk-circle2 sk-child"}),i("div",{class:"sk-circle3 sk-child"}),i("div",{class:"sk-circle4 sk-child"}),i("div",{class:"sk-circle5 sk-child"}),i("div",{class:"sk-circle6 sk-child"}),i("div",{class:"sk-circle7 sk-child"}),i("div",{class:"sk-circle8 sk-child"}),i("div",{class:"sk-circle9 sk-child"}),i("div",{class:"sk-circle10 sk-child"}),i("div",{class:"sk-circle11 sk-child"}),i("div",{class:"sk-circle12 sk-child"}))},Object.defineProperty(e,"is",{get:function(){return"ref-spinner"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:ref-spinner:**/"},enumerable:!0,configurable:!0}),e}(),r=function(){function e(){var e=this;this.searchBar=!0,this.predictions=[],this.clearPredictions=function(){e.setPredictions([])},this.getPredictions=function(t){var n=t.target.value;e.hasText=e.input.value.length>0,void 0!==n&&0!==n.length?e.autocomplete.getPlacePredictions({input:n},function(t){if(null!==t&&0!==t.length){var n=t.map(function(t){return i("refuge-prediction",{onClick:function(){e.searchByPrediction(t)}},t.description)});e.setPredictions(n)}else e.clearPredictions()}):e.clearPredictions()},this.searchByPrediction=function(t){e.input.value=t.structured_formatting.main_text,e.handleSearch(t),e.clearPredictions()},this.searchByLocation=function(){e.input.value="My Location",e.handleSearch(),e.clearPredictions()},this.handleRightClick=function(){e.markers.length>0?(e.input.value=null,e.resetAll()):e.input.value.length>0?(e.input.value=null,e.resetAll()):e.searchByLocation()}}return e.prototype.componentWillLoad=function(){},e.prototype.componentDidLoad=function(){this.store.mapDispatchToProps(this,{setPredictions:t.setPredictions,setResults:t.setResults,setMarkers:t.setMarkers,setLoading:t.setLoading,resetAll:t.resetAll}),this.store.mapStateToProps(this,function(e){var t=e.app;return{service:t.service,map:t.map,predictions:t.predictions,markers:t.markers,loading:t.loading}}),this.autocomplete=new google.maps.places.AutocompleteService},e.prototype.render=function(){var e,n,r,c,s=this;return r=this.loading?i("ref-spinner",{class:"header-icon left-icon small"}):i("img",{class:"header-icon left-icon",src:"assets/icons/search.svg"}),n=this.input&&this.input.value.length>0||this.loading?"close":"my_location",c=t.classnames({"header-icon":!0,"right-icon":!0,"material-icons":!0,location:"my_location"==n}),e=t.classnames({"search-container":!0,"bottom-border":0===this.predictions.length}),i("div",{class:e},i("input",{id:"search-input",class:"search-input",placeholder:"Search...",ref:function(e){s.input=e},onInput:this.getPredictions,onFocus:function(e){s.input.select(),s.getPredictions(e)}}),i("div",{class:"header-icon left-icon"},r),i("span",{class:c,onClick:this.handleRightClick},n))},Object.defineProperty(e,"is",{get:function(){return"refuge-header"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{handleSearch:{type:"Any",attr:"handle-search"},loading:{state:!0},markers:{state:!0},predictions:{state:!0},searchBar:{type:Boolean,attr:"search-bar"},store:{context:"store"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:refuge-header:**/"},enumerable:!0,configurable:!0}),e}(),c=function(){function e(){}return e.prototype.render=function(){return i("li",{class:"prediction-container"},i("ref-icon",{classes:"icon marker",icon:"marker-default"}),i("span",{class:"prediction-content"},i("slot",null)))},Object.defineProperty(e,"is",{get:function(){return"refuge-prediction"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{item:{type:"Any",attr:"item"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"/**style-placeholder:refuge-prediction:**/"},enumerable:!0,configurable:!0}),e}();e.RefSpinner=n,e.RefugeHeader=r,e.RefugePrediction=c,Object.defineProperty(e,"__esModule",{value:!0})});