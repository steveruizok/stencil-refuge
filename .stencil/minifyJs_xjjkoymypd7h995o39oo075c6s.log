/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{m as t,e as s,f as i,j as c,n as r,k as a}from"./chunk-0ccbf0d2.js";class l{render(){return e("div",{class:"sk-circle"},e("div",{class:"sk-circle1 sk-child"}),e("div",{class:"sk-circle2 sk-child"}),e("div",{class:"sk-circle3 sk-child"}),e("div",{class:"sk-circle4 sk-child"}),e("div",{class:"sk-circle5 sk-child"}),e("div",{class:"sk-circle6 sk-child"}),e("div",{class:"sk-circle7 sk-child"}),e("div",{class:"sk-circle8 sk-child"}),e("div",{class:"sk-circle9 sk-child"}),e("div",{class:"sk-circle10 sk-child"}),e("div",{class:"sk-circle11 sk-child"}),e("div",{class:"sk-circle12 sk-child"}))}static get is(){return"ref-spinner"}static get style(){return"/**style-placeholder:ref-spinner:**/"}}class n{constructor(){this.searchBar=!0,this.predictions=[],this.clearPredictions=(()=>{this.setPredictions([])}),this.getPredictions=(t=>{let s=t.target.value;this.hasText=this.input.value.length>0,void 0!==s&&0!==s.length?this.autocomplete.getPlacePredictions({input:s},t=>{if(null===t||0===t.length)return void this.clearPredictions();let s=t.map(t=>e("refuge-prediction",{onClick:()=>{this.searchByPrediction(t)}},t.description));this.setPredictions(s)}):this.clearPredictions()}),this.searchByPrediction=(e=>{this.input.value=e.structured_formatting.main_text,this.handleSearch(e),this.clearPredictions()}),this.searchByLocation=(()=>{this.input.value="My Location",this.handleSearch(),this.clearPredictions()}),this.handleRightClick=(()=>{this.markers.length>0?(this.input.value=null,this.resetAll()):this.input.value.length>0?(this.input.value=null,this.resetAll()):this.searchByLocation()})}componentWillLoad(){}componentDidLoad(){this.store.mapDispatchToProps(this,{setPredictions:t,setResults:s,setMarkers:i,setLoading:c,resetAll:r}),this.store.mapStateToProps(this,e=>{const{app:{service:t,map:s,predictions:i,markers:c,loading:r}}=e;return{service:t,map:s,predictions:i,markers:c,loading:r}})}render(){let t,s,i,c;return i=this.loading?e("ref-spinner",{class:"header-icon left-icon small"}):e("img",{class:"header-icon left-icon",src:"assets/icons/search.svg"}),s=this.input&&this.input.value.length>0||this.loading?"close":"my_location",c=a({"header-icon":!0,"right-icon":!0,"material-icons":!0,location:"my_location"==s}),t=a({"search-container":!0,"bottom-border":0===this.predictions.length}),e("div",{class:t},e("input",{id:"search-input",class:"search-input",placeholder:"Search...",ref:e=>{this.input=e},onInput:this.getPredictions,onFocus:e=>{this.input.select(),this.getPredictions(e)}}),e("div",{class:"header-icon left-icon"},i),e("span",{class:c,onClick:this.handleRightClick},s))}static get is(){return"refuge-header"}static get properties(){return{autocomplete:{type:"Any",attr:"autocomplete"},handleSearch:{type:"Any",attr:"handle-search"},loading:{state:!0},markers:{state:!0},predictions:{state:!0},searchBar:{type:Boolean,attr:"search-bar"},store:{context:"store"}}}static get style(){return"/**style-placeholder:refuge-header:**/"}}class o{render(){return e("li",{class:"prediction-container"},e("ref-icon",{classes:"icon marker",icon:"marker-default"}),e("span",{class:"prediction-content"},e("slot",null)))}static get is(){return"refuge-prediction"}static get properties(){return{item:{type:"Any",attr:"item"}}}static get style(){return"/**style-placeholder:refuge-prediction:**/"}}export{l as RefSpinner,n as RefugeHeader,o as RefugePrediction};