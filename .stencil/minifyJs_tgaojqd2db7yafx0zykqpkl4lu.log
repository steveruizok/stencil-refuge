/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{m as s,e as t,f as i,l as c}from"./chunk-d53d8433.js";class r{constructor(){this.searchBar=!0,this.clearPredictions=(()=>{this.setPredictions([])}),this.getPredictions=(s=>{let t=s.target.value;void 0!==t&&0!==t.length?(this.hasText=!0,this.autocomplete.getPlacePredictions({input:t},s=>{if(null===s||0===s.length)return void this.clearPredictions();let t=s.map(s=>e("refuge-prediction",{onClick:()=>{this.searchByPrediction(s)}},s.description));this.setPredictions(t)})):this.clearPredictions()}),this.searchByPrediction=(e=>{this.input.value=e.structured_formatting.main_text,this.handleSearch(e),this.clearPredictions()}),this.searchByLocation=(()=>{this.input.value="My Location",this.handleSearch(),this.clearPredictions()}),this.handleRightClick=(()=>{this.input.value.length>0?(this.input.value=null,this.clearPredictions(),this.setResults([]),this.markers.forEach(function(e){e.setMap(null)})):this.searchByLocation()})}componentWillLoad(){}componentDidLoad(){this.store.mapDispatchToProps(this,{setPredictions:s,setResults:t,setMarkers:i}),this.store.mapStateToProps(this,e=>{const{app:{service:s,map:t,predictions:i,markers:c,loading:r}}=e;return{service:s,map:t,predictions:i,markers:c,loading:r}}),this.autocomplete=new google.maps.places.AutocompleteService}render(){let s,t,i,r;return i=this.loading?e("refuge-spinner",{class:"small"}):"search",t=this.input&&this.input.value.length>0||this.loading?"close":"my_location",r=c({"header-icon":!0,"right-icon":!0,"material-icons":!0,location:"my_location"==t}),s=c({"search-container":!0,"bottom-border":this.hasText}),e("div",{class:s},e("input",{id:"search-input",class:"search-input",placeholder:"Search...",ref:e=>{this.input=e},onInput:this.getPredictions,onFocus:e=>{this.input.select(),this.getPredictions(e)}}),e("span",{class:"header-icon left-icon material-icons"},i),e("span",{class:r,onClick:this.handleRightClick},t))}static get is(){return"refuge-header"}static get properties(){return{handleSearch:{type:"Any",attr:"handle-search"},loading:{state:!0},markers:{state:!0},predictions:{state:!0},searchBar:{type:Boolean,attr:"search-bar"},store:{context:"store"}}}static get style(){return"/**style-placeholder:refuge-header:**/"}}class a{render(){return e("li",{class:"prediction-container"},e("img",{class:"icon marker",src:"assets/icons/marker-default.svg"}),e("span",{class:"prediction-content"},e("slot",null)))}static get is(){return"refuge-prediction"}static get properties(){return{item:{type:"Any",attr:"item"}}}static get style(){return"/**style-placeholder:refuge-prediction:**/"}}class l{render(){return e("div",{class:"sk-circle"},e("div",{class:"sk-circle1 sk-child"}),e("div",{class:"sk-circle2 sk-child"}),e("div",{class:"sk-circle3 sk-child"}),e("div",{class:"sk-circle4 sk-child"}),e("div",{class:"sk-circle5 sk-child"}),e("div",{class:"sk-circle6 sk-child"}),e("div",{class:"sk-circle7 sk-child"}),e("div",{class:"sk-circle8 sk-child"}),e("div",{class:"sk-circle9 sk-child"}),e("div",{class:"sk-circle10 sk-child"}),e("div",{class:"sk-circle11 sk-child"}),e("div",{class:"sk-circle12 sk-child"}))}static get is(){return"refuge-spinner"}static get style(){return"/**style-placeholder:refuge-spinner:**/"}}export{r as RefugeHeader,a as RefugePrediction,l as RefugeSpinner};